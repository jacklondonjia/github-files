<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!--  $Id: cspy.html 123 2011-11-01 13:01:33Z peterod $-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemalocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />

<title>ARM用IAR C-SPYデバッガのリリースノート </title>
    <link type="text/css" rel="stylesheet" media="all" href="style/ewic.css" />
</head>
<body>
    <div id="topbanner">
    </div>
    <div id="titlebanner_small">
        <h2>
ARMバージョン6.30.4用IAR C-SPYデバッガのリリースノート
        </h2>
    </div>
    <div class="breadcrumb">
<a href="index.JPN.html">ARM用IARインフォメーションセンタ </a> | <a href="release_notes.JPN.html">リリースノート</a> | <a href="components.JPN.html">コンポーネント</a> | ARM用 IARアセンブラのリリースノート
    </div>
    <div class="mainblock">
        <ul>
<li><a href="#important">重要な情報</a> </li>
<li><a href="#features">新機能</a> </li>
<li><a href="#problems">既知の問題</a> </li>
<li><a href="#pcorr">プログラム修正</a> </li>
<li><a href="#manuals">ユーザガイドの訂正</a> </li>
<li><a href="#misc">その他</a> </li>
<li><a href="#history">リリース履歴</a> </li>
        </ul>
        <!--======================================================================-->
        <!-- IMPORTANT INFORMATION                                                -->
        <!--======================================================================-->
        <h3>
<a name="important" id="important"></a>重要な情報
        </h3>
﻿<ul>
  <li>
    <p>
C-SPYマクロ<code>__loadModule(<i>filename</i>, <i>suppress</i>)</code>は、<code>__loadImage(<i>patch</i>, <i>offset</i>, <i>debugInfoOnly</i>)</code>という名前に変わりました。
    </p>
  </li>

  <li>
    <p>
C-SPYマクロ<code>__sleep(<i>microseconds</i>)</code>は、<code>__delay(<i>milliseconds</i>)</code>に置き換えられました。時間の間隔の違いに注意してください。
    </p>
  </li>

  <li>
    <p>
ARM用IAR Embedded WorkbenchのC-SPYには、フラッシュローダ機能のための改善されたメカニズムと設定方法が用意されています。以前の設定のフラッシュローダを採用する既存のプロジェクトは、自動的にデフォルト設定を持つ新しい方法に移行されます。ほとんどの場合、デフォルト設定で十分です。以前の設定は新しい設定ファイル(拡張子<code>.board</code>)に変換され、デフォルト設定が適切でない場合に使用することができます。フラッシュローダの新しいメカニズムおよび設定方法の詳細は、<a href="../FlashLoaderGuide.JPN.pdf">フラッシュローダガイド</a>を参照してください。
    </p>
  </li>
</ul>
        <!--======================================================================-->
        <!-- NEW FEATURES                                                         -->
        <!--======================================================================-->
        <h3>
<a name="features" id="features"></a>新機能
        </h3>
﻿<ul>
<li><p><b>ETM/ETBの選択</b><br> ETMとETBの両方をサポートするデバイスで、どちらかを選択できるようになりました。
  </p></li>
</ul>
        <!--======================================================================-->
        <!-- Known Problems-->
        <!--======================================================================-->
        <h3>
<a name="problems" id="problems"></a>既知の問題
        </h3>
﻿<ul>
  <li><p>	
	XDS100デバッガドライバでFIQレジスタグループを読み込む際、間違った値になる。実際の動作は、現在のCPUモードによって異なります。これによって、スタックチェックで間違ったワーニングがログウィンドウに出力されます。回避方法は、スタックチェックをメニュー[ツール]-&gt;[オプション]-&gt;[スタック]でオフにし、すべてのスタックオプションを無効にします。
  </p></li>

  <li><p>
XDS100デバッガドライバを使用中、フラッシュダウンロードの後にセミホスティング (ターミナル I/O) が正しく機能しない。回避方法は、デバッガを停止してからダウンロードせずにデバッグを開始します。
  </p></li>  
    
  <li><p>
Cortex-M割込みのサポートは、シミュレータでは限られています。一度に1つの割込みだけがシミュレーションされます。ネストされた割込みや、テイルチェーンなどはありません。NVIC割込みコントローラはシミュレーションされません。割込みは、PRIMASKレジスタまたは組込み関数<code>__enable_interrupt()</code>および<code>__disable_interrupt()</code>を使用して、グローバルで有効/無効にすることしかできません。
  </p></li>

  <li><p>
逆アセンブラは、統一されたアセンブラを完全にサポートしているわけではありません。
  </p></li>

  <li><p>
関数内に定義された静的変数をウォッチすると、変数が間違ったスコープで処理されるために失敗します。対策は、[ローカル]ウィンドウを使用するか、[ウォッチ]ウィンドウのスコープ内の名前を指定することです。たとえば、<code>main::the_static_var</code>というように指定します。
  </p></li>
  
  <li><p>
リトルエンディアンモードで[メモリ]ウィンドウにおいて<b>移動</b>コマンドを実行する際、位置(IDEのメインウィンドウの右下に<code>pos #######</code>として表示)が<b>移動</b>フィールドに入力された値と同じになりません。<br>[EW14355]
  </p></li>

  <li><p>
<b>プロジェクトオプション&gt;デバッガ&gt;プラグイン</b>を選択し、<b>工場出荷時設定</b>オプションを選んでも、何も影響がありません。<br>[EW16078]
  </p></li>

  <li><p>
大きなプロジェクトのプロファイリングが遅くなることがあります。<br>[EW17781]
  </p></li>

  <li><p>
同じ名前をデータタイプとデータオブジェクトに使用すると、データオブジェクトが[ウォッチ]ウィンドウに表示されません。<br>[EW19334, EW21566]
  </p></li>

  <li><p>
絶対アドレスに配置された配列が、配列ではなく単一の整数として[ウォッチ]ウィンドウに表示されます。変数がユーザ定義セグメントに配置されていると、この問題は発生しません。<br>[EW20207]
  </p></li>

  <li><p>
ETMを持つCortex-Mの[タイムライン]ウィンドウで、スタックグラフおよびデータロググラフが時間どおり正確に相互に関連しません。データログイベントのソースを見つけるには、イベントをダブルクリックしてください。
  </p></li>

  <li><p>
可変数関数呼出し上にいるときに(引数の変数値を持つ場合など)、&quot;ステップイン&quot;が&quot;ステップオーバ&quot;として実行されるときがあります。<br>[EW20673]
  </p></li>

  <li><p>
多くのSFR:s が[レジスタ]ウィンドウに表示され、ST-LINKを使用している場合、ステップや実行を持つプログラムの実行が不可能になります。回避方法は、SFR:sの表示を避けることです。<br>[EW22020]
  </p></li>

  <li><p>
割込みルーチンにある最後の命令上にあるときに、<b>ステップオーバ</b> (F10) 機能が動作しない。<br>[EW22343]
  </p></li>

  <li><p>
ARM7およびARM9でデバッグ中に<b>実行中プログラムにアタッチする</b>が動作しない。<br>[EW22435]
  </p></li>

  <li><p>
[タイムライン]ウィンドウで長いトレース取得 (数時間) の後に、デバッガが不意に終了することがある。<br>[EW22452]
  </p></li>

  <li><p>
複数のソースファイルで定義された静的変数が、コンパイラで事前にインクルードされたファイルが使用される場合に曖昧になる。<br>[EW22487]
  </p></li>
</ul>
        <!--======================================================================-->
        <!-- Program Corrections                                                  -->
        <!--======================================================================-->
        <h3>
<a name="pcorr" id="pcorr"></a>プログラム修正
        </h3>
﻿<ul>

<li>
  <p>
アプリケーションがchar型を使用しないときに、<code>(char *)42</code>のようなchar型を含むキャスト式を評価すると、クラッシュすることがありました。これは修正されました。<br>[EW20519]
  </p>
</li>

<li>
  <p>
ThreadX RTOSプラグインビューで右クリックしても、C-SPYが異常終了しなくなりました。<br>[EW22508]
  </p>
</li>

<li>
  <p>
AM1808デバイスをデバッグする際に、ワーニングメッセージが表示されなくなりました。<br>[EW22557]
  </p>
</li>

<li>
  <p>
[ウォッチ]ウィンドウで、Thumb関数のポインタが正しい関数名とともに表示されるようになりました。<br>[EW22664]
  </p>
</li>

<li>
  <p>
[呼出しスタック]ウィンドウが開いているときにシングルステップを行ったり、ブレークポイントまで実行しても、IDEが反応しなくなることがなくなりました。<br>[EW22765]
  </p>
</li>

<li>
  <p>
2つ以上のモニタを使用し、メインのIDEウィンドウを一方のモニタで開き、もう一方のモニタに[逆アセンブリ]ウィンドウがある状態でデバッグセッションを終了すると、デバッグセッションを再起動したときにIAR Embedded Workbenchが異常終了することがありました。これは修正されました。<br>[EW22762]
  </p>
</li>

</ul>
        <!--======================================================================-->
        <!-- USER GUIDE CORRECTIONS                                               -->
        <!--======================================================================-->
        <h3>
<a name="manuals" id="manuals"></a>ユーザガイドの訂正
        </h3>
﻿<ul>
  <li>
C-SPY&reg; デバッグガイド (UCSARM-3)、補足:<br><br>
    <ul>
43ページ:<br><b>JTAGjet USBドライバのインストール</b><br><br>

USBポート経由でJTAGjetインタフェースを使用するには、まずJTAGjet USBドライバをインストールする必要があります。<br>

USBケーブルを使用してコンピュータとJTAGjetプローブを接続します。<br><br>

<i>Windows 7以前:</i><br>
      <ul>
JTAGjetインタフェースとコンピュータの接続は初めてであるため、Windowsではダイアログボックスを開き、USBドライバがある場所を尋ねます。ドライバは、製品をインストールした<code>arm\drivers\jtagjet</code>ディレクトリにあります。初期設定が終了すると、再度ドライバをインストールする必要はありません。
      </ul>

<i>Windows 7:</i><br>
      <ul>
Windowsのデバイスマネージャを起動します。<br>Select <code>[その他のデバイス/JTAGjet]</code>を選択して右クリックし、<br><code>[ドライバ ソフトウェアの更新]</code>、<br>: <code>[コンピュータを参照してドライバ ソフトウェアを検索します]</code><br>を選択して、<code>arm\drivers\jtagjet</code>ディレクトリに移動します。<br> <code>[次へ]</code>に続いて<br><code>[インストール]</code>をクリックします。<br>
      </ul>
    </ul>
  </li>
  <br>
</ul>
        <!--======================================================================-->
        <!-- MISCELLANEOUS                                                        -->
        <!--======================================================================-->
        <h3>
<a name="misc" id="misc"></a>その他
        </h3>
﻿<ul>
  <li><p>
<b>コマンドラインツールとしてデバッガを実行する</b><br> これは現在、<a href="../EWARM_DebuggingGuide.JPN.pdf">デバッグガイド</a>で説明されています。
  </p></li>
  <li><p>
<b>コマンドラインのパラメータをデバッグ済みアプリケーションに引き渡す</b><br>

コマンドラインパラメータをデバッグ済みアプリケーションに引き渡すための、基本的なメカニズムがあります。<b>プロジェクトオプション</b>ダイアログボックスの<b>デバッガ</b>カテゴリにある、<b>追加オプション</b>ページの<code>/args</code>オプションを使用してください。構文:
<pre>
/args arg0 arg1 ...
</pre>
<code>/args</code>を持つ行を複数使用できます。次に例を示します。
<pre>
/args --logfile log.txt
/args --verbose
</pre>
アプリケーションでは、以下の変数を定義する必要があります。変数は、アプリケーション起動時にデバッガによって初期化されます。
<pre>
__no_init int __argc;
__no_init const char* __argv[MAX_ARGS];
__no_init __root char __argvbuf[MAX_ARG_SIZE];
</pre>
    <table cellpadding="2" cellspacing="0">
      <tr>
<td align="center"><p align="left"><code>__argc</code>
        </td>
<td align="center"><p align="left"><code>__argv</code>中の引数の数</td>
      </tr>
      <tr>
<td><p align="left"><code>__argv</code></p></td>
<td align="center"><p align="left">引数を保持する文字列へのポインタ配列には、パラメータ数に合うだけの十分な大きさがなければなりません。</td>
      </tr>
      <tr>
<td><p align="left"><code>__argvbuf</code></p></td>
<td align="center"><p align="left"><code>__argv</code>の記憶領域は、すべてのコマンドラインパラメータを保持するだけの十分な大きさでなければなりません。</td>
      </tr>
    </table>
  </p></li>
</ul>
        <!--======================================================================-->
        <!-- RELEASE HISTORY                                                      -->
        <!--======================================================================-->
        <h3>
<a name="history" id="history"></a>リリース履歴
        </h3>
﻿<h4>V6.21 2011-07-05</h4>
<b>プログラム修正</b>
 
<li>
  <p>
エディタウィンドウの選択項目に対して<b>[[ウォッチ]に追加]</b>を実行すると、[ウォッチ]ウィンドウが開くほか、それにエントリが追加されるようになりました。<br>[EW22408]
  </p>
</li>

<li>
  <p>
ST-LINKを使用したフラッシュのプログラミングで、C-SPYマクロ<code>execUserFlashInit()</code>が問題なく使用できるようになりました。<br>[EW22457, EW22473]
  </p>
</li>

<li>
  <p>
不明なアドレスの逆アセンブリで、デバッガがクラッシュしなくなりました。<br>[EW22458]
  </p>
</li>

<li>
  <p>
特定の場合に、C-SPYが表示するターゲットシステムスタックの十分な情報を持っていないときに、[スタック]ウィンドウが開いてすぐにクラッシュしなくなりました。<br>[EW22486]
  </p>
</li>

<li>
  <p>
EWARM 6.21.2:<br>P&amp;E Micro用のC-SPYドライバによって、デバッガがクラッシュしないようになりました。<br>[EW22554]
  </p>
</li>

<li>
  <p>
EWARM 6.21.3:<br>[逆アセンブリ]ウィンドウのコンテキストメニューの<b>[混在モード]</b>エントリの前にあるチェックマークが、正しく表示されるようになりました。<br>[EW22604]
  </p>
</li>
 
 
<b>新機能</b>
 
<ul>
<li><p><b>SWOによるST ST-LINKバージョン2のサポート</b> (6.20.4の新機能)<br> STデバッグプローブST-LINKバージョン2がサポートされるようになりました。SWO (Serial Wire Output) 機能も実装され、関数プロファイリングや割込みトレースなどの機能がSTM32デバイスで使用可能になりました。
  </p></li>
<li><p><b>Texas Instruments XDS100v2のサポート</b><br> Texas InstrumentsのデバッグプローブXDS100v2が、TI TMS570デバイス対応になりました。XDS100v2を使用するには、[デバッガ]&gt;[設定オプション]ページの<b>[ドライバ]</b>ドロップダウンリストで<b>[TI XDS100]</b>を選択してください。XDS100v2デバッグドライバには、Texas Instrumentsのエミュレータパッケージをインストールする必要があります。エミュレータパッケージをインストールするには、<code>...\arm\drivers\ti-xds\ti_emupack_setup.exe</code>を開始してインストールの手順に従います。エミュレータパッケージは推奨されたデフォルトの場所にインストールしてください。これによって、デバッガがエミュレータパッケージを自動的に見つけることができます。何らかの理由でパッケージがカスタムの場所にインストールされる場合、オプション<code>--xds_rootdir=<em>path</em></code>を[デバッガ]&gt;[その他のオプション]のオプションページで指定する必要があります。
  </p></li>
</ul> 
 
<h4>V6.20 2011-04-29</h4>
<b>プログラム修正</b>
  <ul>

<li>
  <p>
絶対アドレスに配置された配列、構造体、共用体、クラス型の変数が、[ウォッチ]ウィンドウのファミリで正しく表示されるようになりました。<br/>[EW19987]
  </p>
</li>

<li>
  <p>
[レジスタ]ウィンドウで、<code>LR</code>と<code>PSP</code>レジスタに正しい値が表示されるようになりました。<br/>[EW22279]
  </p>
</li>

<li>
  <p>
例外の実行時に、シミュレータが<code>PendSV</code>例外の保持ビットをリセットするようになりました。また、例外の優先度もより効率的にシミュレーションされます。例外の優先度の動的な変更および優先度のグループ化の使用もサポートされるようになりました。<br/>[EW22301]
  </p>
</li>

<li>
  <p>
32ビットThumb命令<code>LDR(literal)</code>があらゆるオペランドの組み合わせについて正しくデコードされ、シミュレーションされるようになりました。<br/>[EW22360]
  </p>
</li>

<li>
  <p>
<code>LSRS R0,R0,#32</code>が正しくシミュレーションされるようになりました。<br/>[EW22371]
  </p>
</li>

<li>
  <p>
EWARM 6.20.4:<br/>フラッシュのプログラミングの際にマクロ<code>execUserFlashInit()</code>が使用可能になりました。<br/>[EW22473]
  </p>
</li>
  </ul>

<b>新機能</b>
  <ul>
<li><p>なし。</p></li>
  </ul>

<h4>V6.10 2010-11-04</h4>
<b>プログラム修正</b>
  <ul>

<li>
  <p>
フラッシュローダが引数の存在を確認するときに、冗長なワーニングがありました。このワーニングは出力されなくなりました。<br/>[EW21861]
  </p>
</li>

<li>
  <p>
IAR C-SPYデバッガが名前を解決するときに、名前空間が使用できませんでした。これは修正されました。<br/>[EW21868]
  </p>
</li>

<li>
  <p>
[ウォッチ]ウィンドウで表示されている場合、アセンブリファイルで宣言された変数に間違ったアドレスが指定されることがありました。これは修正されました。<br/>[EW21873]
  </p>
</li>

<li>
  <p>
Windows 7では、embOSとPowerPac RTOS awarenessプラグインで、設定および製品情報のダウンロードが正しく表示されませんでした。<br/>[EW21901]
  </p>
</li>

<li>
  <p>
トレース/SWOポートを設定するときに、SFRの他のビット(<code>DBGMCU_CR</code>など)が変更されないようになりました。<br/>[EW21970]
  </p>
</li>

<li>
  <p>
<code>__hwReset</code>マクロがST-LINKドライバに実装されました。<br/>[EW21995]
  </p>
</li>

<li>
  <p>
トレースの最後のインデックスが、ファイルに保存する際に含まれるようになりました。<br/>[EW22012]
  </p>
</li>

<li>
  <p>
C-SPYマクロ<code>__setLogBreak()</code>が、すべての適切なデバッガドライバで認識されるようになりました。<br/>[EW22030]
  </p>
</li>

<li>
  <p>
ステップ実行およびブレークポイントの設定で、<code>#line</code>ディレクティブが考慮されるようになりました。<br/>[EW22044]
  </p>
</li>

<li>
  <p>
EWARM 6.10.2:<br/>ST-LINKドライバの使用時に、[ブレークポイント]ウィンドウを開くことが可能になりました。<br/>[EW22087]
  </p>
</li>

<li>
  <p>
EWARM 6.10.2:<br/>uCOS-II プラグインで、<code>HKEY_LOCAL_MACHINE</code>ではなくレジストリサブツリー<code>HKEY_CURRENT_USER</code>に設定が保存されるようになりました。<br/>[EW22109]
  </p>
</li>

<li>
  <p>
EWARM 6.10.2:<br/>[レジスタ]ウィンドウに<code>CP15</code>レジスタ<code>CPACR</code>を表示する際に、個々のビットの値が正しく表示されるようになりました。<br/>[EW22128]
  </p>
</li>

<li>
  <p>
EWARM 6.10.2:<br/>ThreadXプラグインの[メッセージキュー]ウィンドウで1つのキューに多数のメッセージが含まれる場合、IDEがクラッシュしなくなりました。<br/>[EW22142]
  </p>
</li>

<li>
  <p>
EWARM 6.10.3:<br/>関数へのポインタを含む型定義で、デバッガを起動するとIAR Embedded Workbenchが不意に終了する原因となっていた間違ったデバッグ情報が生成されなくなりました。 <br/>[EW22176]
  </p>
</li>
  </ul>

<b>新機能</b>
  <ul>

  <li><p>
<b>メモリ領域のブラックリスト</b> (6.10.2の新機能)<br/> デバイス記述ファイルで、任意でデバイスに有効なメモリ領域を指定できるようになりました。有効な領域外のユーザアクセスはブロックされます。
  </p></li>

  <li><p>
<b>トレース付きでデバッグ時にエディタのコンテキストメニューに新しい項目を追加</b><br/> ドライバでトレースが使用可能な場合、新しいコンテキストメニューの項目<b>[トレースを検索]</b>がエディタのコンテキストメニューに表示されます(デバッグの実行中)。ターゲットのコードに対応するソースコードをクリックすると、トレースウィンドウが空でなければ、メニュー項目が有効になります。これを選択すると、指定したトレースデータに一致するものがないかトレースウィンドウ内を直接検索し、[トレースを検索]ウィンドウで標準検索の結果を報告します。 
  </p></li>

  <li><p>
<b>[タイムライン]ウィンドウおよび関連のウィンドウからコードに移動する場合</b><br/> 既存の機能:[タイムライン]ウィンドウでダブルクリックすると(表示するものがある場合)、エディタウィンドウが開いて、対応するソースコードがあればその位置に挿入ポイントが示されます。これは、[データログ]や[割込みログ]ウィンドウなど関連のウィンドウでダブルクリックした場合にも同じ結果になります。<br/>同じ状況での新機能:逆アセンブリウィンドウがすでに開いている場合、挿入ポイントも正しい位置に配置されます。必要なコードの位置に対応するソースコードがない場合(この場合エディタウィンドウにコードは表示できません)、そのコードは逆アセンブリウィンドウでのみ表示され、このウィンドウが必要に応じて開きます。 
  </p></li>

  <li><p>
<b>プロセッサが待機モード中にログが生成されたかどうかが、Powerログシステムに表示されます</b><br/> 待機モード中にログが生成されたとターゲットからシグナルがあれば、[Powerログ]ウィンドウ、PowerStripeツールチップ、Powerログをファイルに保存するシステムで、PCの値として'待機'という文字が表示されます。 
  </p></li>
  </ul>

<h4>V5.50 2010-04-21 </h4>
<b>プログラム修正</b>
  <ul>
  <li>
    <p>
EWARM 5.50.5:<br/>CMXプラグインモジュールをJ-LinkおよびCortex-Mと使用した場合に、タスクウィンドウが更新されるようになりました。<br/>[EW21819]
    </p>
  </li>

  <li>
    <p>
EWARM 5.50.6:<br/>ARMで実行中の例外ルーチンからThumb状態に戻る際に、<code>pc</code>のリターン値がシミュレータで間違っていることがありました。<br/>[EW21908]
    </p>
  </li>

  <li>
    <p>
EWARM 5.50.6:<br/>命令<code>QADD</code>、<code>QDADD</code>、<code>QDSUB</code>のシミュレーションによって、一部の入力値について間違った結果が生成されなくなりました。<br/>[EW21971]
    </p>
  </li>

  <li>
    <p>
EWARM 5.50.6:<br/>[トレース]ウィンドウが閉じた状態でトレースに基づいたプロファイリングが有効な場合に、デバッガがクラッシュして終了しなくなりました。<br/>[EW21919]
    </p>
  </li>

  <li>
    <p>
EWARM 5.50.6:<br/><code>CONTROL</code>レジスタの<code>UNPRIV</code>ビットがシミュレータで正しくリセットされるようになりました。すなわち、Cortex-M3およびCortex-M4デバイスでシミュレータが権限のないモードで起動しなくなりました。<br/>[EW21982]
    </p>
  </li>

  <li>
    <p>
EWARM 5.50.6:<br/>ST-LINKのリセット動作の問題を修正しました。<br/>[EWARM-980]
    </p>
  </li>
  </ul>

<b>新機能</b>
  <ul>
  <li>
[関数プロファイラ]ウィンドウで、入力がETMトレースの場合に、フラットサンプリング方式が任意で使用できるようになりました。これによって、アプリケーションがRTOSを使用するときなど、デバッガが正しい呼出しチェーンのビルドに失敗した場合でも、正確なプロファイリングが可能になります。
  </li>
  </ul>

<h4>V5.41 2009-12-14 </h4>
<b>プログラム修正</b>
  <ul>
    <li>
      <p>
<code>LDREX</code>と<code>STREX</code>命令が、Cortex-M3のシミュレータから抜け落ちていることがなくなりました。<br/>[EW19814]
      </p>
    </li>

    <li>
      <p>
修飾参照された関数ポインタを含む式を[メモリ]ウィンドウにドラッグしても、デバッガがクラッシュしなくなりました。<br/>[EW21390]
      </p>
    </li>

    <li>
      <p>
ソース行に設定されたトレース開始または停止、フィルタポイントを編集しても、エラーメッセージが表示されなくなりました。<br/>[EW21393]
      </p>
    </li>

    <li>
      <p>
ターゲットプロジェクトで&quot;queue&quot;のようなシンボルが足りない場合に、CMX RTOSプラグインでエラーが発生しなくなりました。<br/>[EW21437]
      </p>
    </li>

    <li>
      <p>
EWARM 5.41.2：<br/><code>RFE</code>命令のシミュレーション中に、メモリから<code>CPSR</code>レジスタにビットが間違ってコピーされなくなりました。<br/>[EW21580]
      </p>
    </li>

    <li>
      <p>
EWARM 5.41.2：<br/>C-SPYのコードサイズの制限制御に定数データやデータイニシャライザが含まれなくなりました。<br/>[EW21591]
      </p>
    </li>
  </ul>

<b>新機能</b>
  <ul>
    <li>
<p><b>新しいC-SPYマクロ関数</b><br/> <code>__targetDebuggerVersion()</code>は、デバッガのバージョンを返します。これによって、異なるバージョンのデバッガに適合するデバッガマクロスクリプトを記述できます。
        </p>
      </li>
  </ul>
  
<h4>V5.40 2009-07-10 </h4>
<b>新機能</b>
  <ul>
  <li>
    <p>
<code>ddf</code>ファイルの割込み定義は、Cortex-Mデバイスの割込みシミュレーション設定ダイアログにあります。
    </p>
  </li>

  <li>
    <p>
以下の新機能がcspybatに追加されました。
      <ul>
<li>コードカバレッジ</li>
<li>ダウンロードのみのモード</li> 
<li>タイムアウトオプション</li>
      </ul>
    </p>
  </li>

  <li>
    <p>
新しいC-SPYマクロ<code>__delay(milliseconds)</code>。
    </p>
  </li>
  </ul>
<b>プログラム修正</b>
  <ul>
<li>
  <p>
デバッガが呼出しスタックの巻き戻し中に無限のループに入ることがありました。<br/>[EW20280]
  </p>
</li>

<li>
  <p>
インクルードファイルが完全に空の場合、ステップ実行のデバッグ情報が1行ずれていました。<br/>[EW20541]
  </p>
</li>

<li>
  <p>
C-SPYマクロ<code>__gdbserver_exec_command</code>がありませんでした。<br/>[EW20857]
  </p>
</li>

<li>
  <p>
Cortex-Mコアに対して、例外番号が16より小さい例外のシミュレーションが可能になりました。<br/>[EW20866、EW20867、EW20931]
  </p>
</li>

<li>
<p>割込み記述を編集する機能が、<code>IRQ</code>および<code>FIQ</code>割込みしか持たないコアについて無効になっています。これによって、紛らわしいエラーメッセージが表示されるのを防ぎます。<br/>[EW20868]
  </p>
</li>

<li>
  <p>
Motorola S37形式のファイルを間違ったメモリ位置にダウンロードする際の、まれな問題が修正されました。<br/>[EW20964]
  </p>
</li>

<li>
  <p>
EWARM 5.40.4：<br/><code>--drv_vector_table_base</code>オプションを使用しても、フラッシュローダが失敗しなくなりました。<br/>[EW21171]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>[関数プロファイラ]で正しい値が表示されるようになりました。<br/>Cortex-Mのトレースウィンドウでの逆アセンブリが正しく機能するようになりました。<br/>[EW21187]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>ST-LINKドライバの実行時に[逆アセンブリ]ウィンドウで逆アセンブラが表示されるようになりました。<br/>[EW21198]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>外部でビルドされたELF/DWARFオブジェクトファイルから取得されたソースファイルのパスが、デバッガで正しく認識されるようになりました。<br/>[EW21223]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>デバッガの行番号の情報が正確になりました。強調表示とブレークポイントの設定が正しく機能するようになりました。<br/>[EW21268]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>フラッシュメモリにダウンロードした場合に、IDEが反応するようになりました。<br/>[EW21297]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>複雑なC++プログラムにステップインを実行しても、表示されたソースコードの場所が現在のプログラムカウンタを反映するようになりました。<br/>[EW21300]
  </p>
</li>
<li>
  <p>
EWARM 5.40.4：<br/>RTOSがthumbモードでコンパイルされたときに、CMXプラグインがCMX RTOSを検出できるようになりました。<br/>[EW21311]
  </p>
</li>
  </ul>

<h4>5.30 2009-01-23</h4>

<b>プログラム修正</b>

<ul>
  <li>
    <p>
本リリースでは[自動]ウィンドウが用意されています。
    </p>
  </li>
  <li>
    <p>
CMXプラグインモジュールは、初期化中に2つではなく1つのブレークポイントを使用します。これによって、ハードウェアのブレークポイント不足によるプラグインの失敗のリスクを低減します。<br/>[EW19139]
    </p>
  </li>
  <li>
    <p>
一部の浮動小数点式の結果が、[ウォッチ]ウィンドウに誤って表示されていました。<br/>[EW20303]
    </p>
  </li>
  <li>
    <p>
Luminary FTDIドライバを使用した場合、データブレークポイントは最初のダウンロードの直後にだけしか使用できませんでした。その後のダウンロードでは、データブレークポイントは無効になり、有効にできませんでした。<br/>[EW20360]
    </p>
  </li>
  <li>
    <p>
ARMモードでの逆アセンブル時に、<code>CPSID</code>と<code>CPSIE</code>が誤って逆になっていました。これは修正されました。<br/>[EW20521]
    </p>
  </li>
  <li>
    <p>
<code>MCR</code>命令が、誤って<code>MCR2</code>として逆アセンブルされていました。これは修正されました。<br/>[EW20523]
    </p>
  </li>
  <li>
    <p>
以前のフラッシュローダフレームワークに基づいたフラッシュローダが、<code> cspybat.exe</code>から正しく呼び出せませんでした。これは修正されました。<br/>[EW20529]
    </p>
  </li>
  <li>
    <p>
C-SPYマクロ<code> __openFile ( input_file, &quot;r+b&quot; ) </code>は、入力ファイルにリードオンリー属性が設定されている場合、これまでは失敗することがありました。これは修正されました。<br/>[EW20268]
    </p>
  </li>
  <li>
    <p>
デバッガがセミホスティングコマンド<code>SYS_FLEN</code>をサポートしておらず、Cライブラリ関数<code>fseek()</code>と<code>ftell()</code>が失敗していました。これは修正されました。<br/>[EW20680]
    </p>
  </li>
  <li>
    <p>
VFPの無効な状態(FPSCRにEN)でシミュレータがVFP命令を実行しようとした場合、UNDEF命令(オフセット0x4)を正しく受け入れていましたが、LRが4バイトではなく2バイトずれていました。これは修正されました。<br/>[EWARM-169]
    </p>
  </li>
</ul>


<h4>5.20 2008-07-11</h4>

<b>プログラム修正</b>
<ul>
  <li><p>
外部エディタがIDEで使用された場合、それがデバッガでも使用されました。これによって、ソースコードにブレークポイントを設定できなくなることがありました。デバッガが常に内蔵のエディタを使用するようになりました。<br/>[EW19591]
  </p></li>

  <li><p>
シミュレータが無効な命令を含むタイトなループを実行した場合、[デバッグログ]ウィンドウがエラーメッセージでいっぱいになり、IDEがハングしていました。これは修正されました。<br/>[EW19815]
  </p></li>

  <li><p>
デバッガが、RealView 3.1により生成されたすべてのELF/DWARFファイルを読み込めるようになりました。<br/>[EW19868]
  </p></li>

  <li><p>
ツールチップまたはそれを[ウォッチ]ウィンドウに追加することにより、クラスメンバである関数ポインタをチェックしても、デバッガがクラッシュしなくなりました。<br/>[EW20034]
  </p></li>

  <li><p>
<code> fopen() </code>ライブラリ関数を使用してファイルを開く際に、何度も失敗すると、使用可能なファイルハンドラをすべて使いきってしまうことがありました。これはもう発生しなくなりました。<br/>[EW20102]
  </p></li>

  <li><p>
Cortex-Mコアの場合、PCが目的のレジスタの場合に、16ビットのMOV(レジスタ)命令が正しくシミュレーションされるようになりました。<br/>[EW20200]
  </p></li>
</ul>

<b>新機能</b>
<ul>
<li><b>デバッガの起動</b><br/> コードをダウンロードしてもしなくても、ツールバーの新しい2つのボタンまたは新しい2つのプロジェクトメニューコマンドを使用して、デバッガを起動できるようになりました。これに対応して、デバッグセッション中にデバッガを再起動する新しい方法も2つ加わりました。
  </li>
  <p>
<li><b>複数のELFイメージのロード</b><br/> デバッガは、C-SPYマクロ<code>__loadModule()</code>を使用して、複数のELFイメージをロードできます。
  </li>
  <p>
<li><b>[シンボル]ウィンドウ</b><br/> [シンボル]ウィンドウに、プロジェクト内で使用される全シンボルのリストが表示されます。ソースブラウザとは対照的に、シンボルのリストはプロジェクトソースファイルに基づくのではなく、デバッグ情報から読み込まれます。つまり、ソースを持たないライブラリからのシンボルもリストされることになります。また、他のウィンドウで都合よく表示されないアセンブララベルもリストされます。 
  </li>
  <p>
<li><b>新しいフラッシュローダのメカニズム</b><br/> 速度と柔軟性が向上した新しいフラッシュローダのメカニズムを利用できます。
  </li>
</ul>

<h4>5.11 2007-11-28</h4>

<b>プログラム修正</b>
<ul>
  <li><p>
マクロ関数<code> __openFile() </code>は、<code>&quot;r&quot;</code>や<code>&quot;w&quot;</code>だけでなく、あらゆる種類のパラメータを受け入れるようになりました。特に、<code>&quot;b&quot;</code>パラメータを使用して、ファイルをバイナリモードで開くことが可能です。<br/>[EW17017, EW19034]
  </p></li>
  <li><p>
<code>CPSID</code>と<code>CPSIE</code>が、Cortex-Mの逆アセンブリで交換されていました。<br/>[EW18739]
  </p></li>
  <li><p>
システムコプロセッサ(CP15)のサポートを持たないコアをシミュレーションする際、CP15命令によってシミュレータがクラッシュする可能性がありました。<br/>[EW19244]
  </p></li>
  <li><p>
いくつかのコンパイルユニットが同じタイプを使用した場合、デバッグ情報の問題によって、そのタイプのインスタンスの一部が間違ってC-SPYにより処理されることがこれまでありました。これによって、そのタイプを含むC-SPYの式で構文エラーが発生する可能性があっただけでなく、そのメンバを拡張することもできませんでした。<br/>[EW19338, EW19340]
  </p></li>
  <li><p>
シミュレータが、Cortex-Mについて<code>SVC</code>命令を正しくシミュレーションしませんでした。<br/>[EW19484]
  </p></li>
  <li><p>
破損したセミホスティングのデータ構造体が、デバッガがクラッシュする要因となることがありました。<br/>[EW19507]
  </p></li>
  <li><p>
場合によっては、[クイックウォッチ]、[ウォッチ]、[ローカル]の各ウィンドウで参照が間違って表示されていました。これは修正されました。<br/>[EW19542]
  </p></li>
  <li><p>
大きな切替え文にブレークポイントを設定すると、これまで失敗することがありました。<br/>[EW19553,19611]
  </p></li>
  <li><p>
ネストされた切替え文をARMモードでデバッグする際に、現在のソースコード位置が誤って表示される可能性がありました。これにより、間違ったcase文が実行されたかのように見えていました。<br/>[EW19681]
  </p></li>
</ul>

<b>新機能</b>
<ul>
<li><p><b>Cortex-M1コアのサポート。</b></p></li>
</ul>


<h4>5.10 2007-07-02</h4>

<b>プログラム修正</b>
<ul>
  <li><p>
以前Cortex-M3デバイスは、シミュレータで権限のないモードで起動されていました。<br/>[EW18742]
  </p></li>

  <li><p>
ベースクラスがテンプレートクラスであるコードの場合、デバッガがクラッシュしていました。<br/>[EW18999]
  </p></li>

  <li><p>
ブレークポイントによって呼び出されたC-SPYマクロが同じブレークポイントを削除する場合に、C-SPYがクラッシュしなくなりました。<br/>[EW19001]
  </p></li>

  <li><p>
C-SPYが、大きなイメージをターゲットにダウンロードできるようになりました。<br/>[EW19855]
  </p></li>
</ul>
    </div>
</body>
</html>
